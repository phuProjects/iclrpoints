<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ICLR Points</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        h1 {
            margin-bottom: 10px;
        }
        .intro-text {
            margin-bottom: 20px;
            line-height: 1.6;
        }
        .intro-text a {
            color: #0066cc;
            text-decoration: none;
        }
        .intro-text a:hover {
            text-decoration: underline;
        }
        #layout {
            display: flex;
            gap: 20px;
        }
        #sidebar {
            flex: 0 0 300px;
        }
        #chart {
            flex: 1;
        }
        #date-range {
            margin-bottom: 20px;
        }
        #date-range label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        #date-range select {
            padding: 5px;
            margin-bottom: 10px;
            width: 100%;
        }
        #date-range button {
            padding: 8px 15px;
            background-color: #4CAF50;
            color: white;
            border: none;
            cursor: pointer;
            border-radius: 4px;
        }
        #date-range button:hover {
            background-color: #45a049;
        }
        #checkboxes {
            max-height: 600px;
            overflow-y: auto;
            border: 1px solid #ddd;
            padding: 10px;
            border-radius: 4px;
        }
        #checkboxes input[type="checkbox"] {
            margin-right: 5px;
        }
        #checkboxes > div {
            margin-left: 20px;
            margin-top: 5px;
        }
        #checkboxes > input {
            font-weight: bold;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <h1>ICLR Points: How Many ICLR Publications Is One Paper in Each Area?</h1>
    
    <div class="intro-text">
        <p>It is well known that in different computer science areas, it takes different levels of effort to publish one paper. In this webpage, I try to measure the amount of effort to publish one top-tier paper in each area, in the unit of ICLR points, the amount of effort to publish one paper in top ML conferences such as ICLR.</p>
        <p>The data is found through <a href="https://csrankings.org" target="_blank">CSRankings</a>. The methodology and FAQ can be read <a href="#" target="_blank">here</a>.</p>
    </div>

    <div id="layout">
        <div id="sidebar">
            <div id="date-range">
                <label>From Date:</label>
                <select id="from-year"></select>
                
                <label>To Date:</label>
                <select id="to-year"></select>
                
                <button id="update-range">Update</button>
            </div>

            <div id="checkboxes">
                <input type="checkbox" checked> AI

                <div>
                    <input type="checkbox" checked> Artificial intelligence
                    <div><input type="checkbox"> AAAI</div>
                    <div><input type="checkbox" checked> IJCAI</div>
                </div>

                <div>
                    <input type="checkbox" checked> Computer vision
                    <div><input type="checkbox" checked> CVPR</div>
                    <div><input type="checkbox" checked> ECCV</div>
                    <div><input type="checkbox" checked> ICCV</div>
                </div>

                <div>
                    <input type="checkbox" checked> Machine learning
                    <div><input type="checkbox" checked> ICLR</div>
                    <div><input type="checkbox" checked> ICML</div>
                    <div><input type="checkbox" checked> NIPS</div>
                </div>

                <div><input type="checkbox"> KDD</div>

                <div>
                    <input type="checkbox" checked> Natural language processing
                    <div><input type="checkbox" checked> ACL</div>
                    <div><input type="checkbox" checked> EMNLP</div>
                    <div><input type="checkbox" checked> NAACL</div>
                </div>

                <div>
                    <input type="checkbox" checked> The Web & information retrieval
                    <div><input type="checkbox" checked> SIGIR</div>
                    <div><input type="checkbox" checked> WWW</div>
                </div>
                
                <input type="checkbox" checked> Systems

                <div>
                    <input type="checkbox" checked> Computer architecture
                    <div><input type="checkbox" checked> ASPLOS</div>
                    <div><input type="checkbox" checked> ISCA</div>
                    <div><input type="checkbox" checked> MICRO</div>
                    <div><input type="checkbox"> HPCA</div>
                </div>

                <div>
                    <input type="checkbox" checked> Computer networks
                    <div><input type="checkbox"> SIGCOMM</div>
                    <div><input type="checkbox" checked> NSDI</div>
                </div>

                <div>
                    <input type="checkbox" checked> Computer security
                    <div><input type="checkbox" checked> CCS</div>
                    <div><input type="checkbox" checked> IEEE S&P</div>
                    <div><input type="checkbox" checked> USENIX Security</div>
                    <div><input type="checkbox" checked> NDSS</div>
                </div>
                
                <div>
                    <input type="checkbox" checked> Databases
                    <div><input type="checkbox" checked> SIGMOD</div>
                    <div><input type="checkbox" checked> VLDB</div>
                    <div><input type="checkbox" checked> ICDE</div>
                    <div><input type="checkbox" checked> PODS</div>
                </div>

                <div>
                    <input type="checkbox" checked> Design automation
                    <div><input type="checkbox" checked> DAC</div>
                    <div><input type="checkbox" checked> ICCAD</div>
                </div>

                <div>
                    <input type="checkbox" checked> Embedded & real-time systems
                    <div><input type="checkbox" checked> EMSOFT</div>
                    <div><input type="checkbox" checked> RTAS</div>
                    <div><input type="checkbox" checked> RTSS</div>
                </div>

                <div>
                    <input type="checkbox" checked> High-performance computing
                    <div><input type="checkbox" checked> HPDC</div>
                    <div><input type="checkbox" checked> ICS</div>
                    <div><input type="checkbox" checked> SC</div>
                </div>

                <div>
                    <input type="checkbox" checked> Mobile computing
                    <div><input type="checkbox" checked> MobiCom</div>
                    <div><input type="checkbox" checked> MobiSys</div>
                    <div><input type="checkbox" checked> SenSys</div>
                </div>

                <div>
                    <input type="checkbox" checked> Measurement & perf. analysis
                    <div><input type="checkbox" checked> IMC</div>
                    <div><input type="checkbox" checked> SIGMETRICS</div>
                </div>

                <div>
                    <input type="checkbox" checked> Operating systems
                    <div><input type="checkbox" checked> OSDI</div>
                    <div><input type="checkbox" checked> SOSP</div>
                    <div><input type="checkbox" checked> EuroSys</div>
                    <div><input type="checkbox" checked> FAST</div>
                    <div><input type="checkbox" checked> USENIX ATC</div>
                </div>

                <div>
                    <input type="checkbox" checked> Programming languages
                    <div><input type="checkbox" checked> PLDI</div>
                    <div><input type="checkbox" checked> POPL</div>
                    <div><input type="checkbox" checked> ICFP</div>
                    <div><input type="checkbox" checked> OOPSLA</div>
                </div>

                <div>
                    <input type="checkbox" checked> Software engineering
                    <div><input type="checkbox" checked> FSE</div>
                    <div><input type="checkbox" checked> ICSE</div>
                    <div><input type="checkbox" checked> ASE</div>
                    <div><input type="checkbox" checked> ISSTA</div>
                </div>
                <input type="checkbox" checked> Theory

                <div>
                    <input type="checkbox" checked> Algorithms & complexity
                    <div><input type="checkbox" checked> FOCS</div>
                    <div><input type="checkbox" checked> SODA</div>
                    <div><input type="checkbox" checked> STOC</div>
                </div>

                <div>
                    <input type="checkbox" checked> Cryptography
                    <div><input type="checkbox" checked> CRYPTO</div>
                    <div><input type="checkbox" checked> EuroCrypt</div>
                </div>

                <div>
                    <input type="checkbox" checked> Logic & verification
                    <div><input type="checkbox" checked> CAV</div>
                    <div><input type="checkbox" checked> LICS</div>
                </div>
                <input type="checkbox" checked> Interdisciplinary Areas

                <div>
                    <input type="checkbox" checked> Comp. bio & bioinformatics
                    <div><input type="checkbox" checked> ISMB</div>
                    <div><input type="checkbox" checked> RECOMB</div>
                </div>

                <div>
                    <input type="checkbox" checked> Computer graphics
                    <div><input type="checkbox" checked> SIGGRAPH</div>
                    <div><input type="checkbox" checked> SIGGRAPH Asia</div>
                    <div><input type="checkbox" checked> EUROGRAPHICS</div>
                </div>

                <div>
                    <input type="checkbox" checked> Computer science education
                    <div><input type="checkbox" checked> SIGCSE</div>
                </div>

                <div>
                    <input type="checkbox" checked> Economics & computation
                    <div><input type="checkbox" checked> EC</div>
                    <div><input type="checkbox" checked> WINE</div>
                </div>

                <div>
                    <input type="checkbox" checked> Human-computer interaction
                    <div><input type="checkbox" checked> CHI</div>
                    <div><input type="checkbox" checked> UbiComp / IMWUT</div>
                    <div><input type="checkbox" checked> UIST</div>
                </div>

                <div>
                    <input type="checkbox" checked> Robotics
                    <div><input type="checkbox" checked> ICRA</div>
                    <div><input type="checkbox" checked> IROS</div>
                    <div><input type="checkbox" checked> RSS</div>
                </div>

                <div>
                    <input type="checkbox" checked> Visualization
                    <div><input type="checkbox" checked> VIS</div>
                    <div><input type="checkbox" checked> VR</div>
                </div>
            </div>
        </div>

        <div id="chart"></div>
    </div>

    <script> 
        var allData = [];
        
        function populateYearDropdowns() {
            var fromSelect = document.getElementById("from-year");
            var toSelect = document.getElementById("to-year");
            var currentYear = new Date().getFullYear();
            
            for (var year = 2000; year <= currentYear; year++) {
                var option1 = document.createElement("option");
                option1.value = year;
                option1.text = year;
                if (year === 2019) option1.selected = true;
                fromSelect.appendChild(option1);
                
                var option2 = document.createElement("option");
                option2.value = year;
                option2.text = year;
                if (year === 2023) option2.selected = true;
                toSelect.appendChild(option2);
            }
        }

        function filterAndAggregateByYearRange(data, fromYear, toYear) {
            var filtered = data.filter(function(row) {
                return row.year >= fromYear && row.year <= toYear;
            });
            
            var areaData = {};
            for (var i = 0; i < filtered.length; i++) {
                var row = filtered[i];
                if (!areaData[row.area]) {
                    areaData[row.area] = {
                        area: row.area,
                        parent: row.parent,
                        publication_count: 0,
                        faculty_count: 0
                    };
                }
                areaData[row.area].publication_count += row.publication_count;
                areaData[row.area].faculty_count += row.faculty_count;
            }
            
            var mlArea = areaData["Machine learning"];
            if (!mlArea || mlArea.publication_count === 0) {
                return [];
            }
            
            var baseline = mlArea.faculty_count / mlArea.publication_count;
            
            var result = [];
            var areas = Object.keys(areaData).sort();
            for (var i = 0; i < areas.length; i++) {
                var area = areas[i];
                var data = areaData[area];
                
                if (data.publication_count === 0) {
                    continue;
                }
                
                var facultyPerPub = data.faculty_count / data.publication_count;
                var iclrPoints = facultyPerPub / baseline;
                
                result.push({
                    area: data.area,
                    parent: data.parent,
                    faculty_count: Math.round(data.faculty_count * 100) / 100,
                    publication_count: data.publication_count,
                    faculty_per_pub: Math.round(facultyPerPub * 100) / 100,
                    iclr_points: Math.round(iclrPoints * 100) / 100
                });
            }
            
            return result;
        }

        function updateChart(fromYear, toYear) {
            var filteredData = filterAndAggregateByYearRange(allData, fromYear, toYear);
            
            var parentOrder= ["AI", "Systems", "Theory", "Interdisciplinary Areas"];
            filteredData.sort(function(a,b) {
                var pa = parentOrder.indexOf(a.parent || a.parent_area);
                var pb = parentOrder.indexOf(b.parent || b.parent_area);
                if(pa !== pb) return pa - pb;
                return a.area.localeCompare(b.area);
            });

            var areas = [];
            var values = [];
            var parents = [];
            for(var i = filteredData.length - 1; i >= 0; i--) {
                var row = filteredData[i];
                areas.push(row.area);
                values.push(row.iclr_points);
                parents.push(row.parent || row.parent_area);
            };
            
            var colorMap = {
                "AI": "#1f77b4",
                "Systems": "#ff7f0e",
                "Theory": "#2ca02c",
                "Interdisciplinary Areas": "#d62728"
            };
            var barColors = parents.map(function(p){
                return colorMap[p] || "#999";
            });

            var trace = {
                type: "bar",
                x: values,
                y: areas,
                orientation: "h",
                marker: {color: barColors},
                text: values.map(function(v) { return v.toFixed(2); }),
                textposition: 'outside'
            };

            var layout = {
                margin: { l: 230, r: 50, t: 20, b: 30 },
                xaxis: { title: "ICLR point" },
                yaxis: { automargin: true, title: "Area" },
                showlegend: false,
                height: 400 + filteredData.length * 10
            };

            if (document.getElementById("chart").data) {
                Plotly.react("chart", [trace], layout, { displaylogo: false });
            } else {
                Plotly.newPlot("chart", [trace], layout, { displaylogo: false });
            }
        }

        function getYearsFromInput() {
            var fromYear = parseInt(document.getElementById("from-year").value);
            var toYear = parseInt(document.getElementById("to-year").value);
            if (isNaN(fromYear)) fromYear = 2019;
            if (isNaN(toYear)) toYear = 2023;
            return { from: fromYear, to: toYear};
        }

        function setup(){
            populateYearDropdowns();

            fetch("http://localhost:8001/iclr_points_all")
                .then(function(response){
                    return response.json();
                })
                .then(function(data){
                    allData = data;
                    var yrs = getYearsFromInput();
                    updateChart(yrs.from, yrs.to);
                })
                .catch(function(error) {
                    console.error("Error loading data:", error);
                });

            var btn = document.getElementById("update-range");
            btn.addEventListener("click", function(){
                var yrs = getYearsFromInput();
                updateChart(yrs.from, yrs.to);
            });
        }
        setup();
    </script>
</body>
</html>